<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Basic Markdown Editor</title>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="https://unpkg.com/showdown@2.1.0/dist/showdown.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
  <link rel='stylesheet' href='https://cdn.rawgit.com/sindresorhus/github-markdown-css/gh-pages/github-markdown.css'>
  <link rel='stylesheet' href='https://cdn.rawgit.com/isagalaev/highlight.js/master/src/styles/github.css'>
  <!-- Favicon logo -->
    <link rel="icon" href="images/markdownlogo.png">

  <link rel="stylesheet" type="text/css" href="stylesheet.css" media="screen">
</head>
<body>
    <div id="content">
        <textarea id="textarea" rows="20" cols="20" spellcheck="false" oninput="render()" onkeydown="if(event.keyCode===9){var v=this.value,s=this.selectionStart,e=this.selectionEnd;this.value=v.substring(0, s)+'\t'+v.substring(e);this.selectionStart=this.selectionEnd=s+1;return false;}"></textarea>
        <script src="RenderMarkdown.js"></script>
        <script src="SaveFile.js"></script>
        <div id="render" onload="render()" class="markdown-body"><p></p></div>
        <button id="savebutton" onclick="saveFile();">Save</button>
        <button id="clear" onclick="start();localStorage.removeItem('md');window.location.reload(); ">Clear Storage</button>
        <!-- <button id="converttohtml" onclick="convertToHTML();">Convert to HTML</button> -->
        <footer>
          <!-- start();localStorage.removeItem('md');window.location.reload(); -->
        <p>
            Made With ❤️ By 
            <a href="https://github.com/Varshithvhegde">Varshith V Hegde</a>
          </p>
        </footer>
        <script>
            function start(){
            var md=localStorage.getItem("md");
            if(md!=null){
                document.getElementById('textarea').innerHTML=md;
                render();
            }
            else{
            var str="# MarkDown Editor\n\n> GitHub Flavored Markdown Editor\n# How to Use\n- Clear the all codes on the left panel\n- Write some markdown codes there\n- Enjoy!";
            document.getElementById('textarea').innerHTML=str;
            render();
            }
        }
        start()

        function convertToHTML(){
          localStorage.setItem("fmy",1);
          var md=localStorage.getItem("md");
          //var userText = document.getElementById("textarea").value;

          var converter = new showdown.Converter();
          var html = converter.makeHtml(md);
          document.getElementById('textarea').innerHTML=html;
           //render();
        }
        </script>
    </div>
</body>
</html>
